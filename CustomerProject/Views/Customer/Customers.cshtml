@model CustomerProject.Models.Customer

@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" type="text/css" href="~/Content/Style.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/ButtonStyle.css" />
    <title>Customers</title>
   @* <script src="jquery-3.5.1.min.js"></script>*@
    <script type="text/javascript">
        function msgprint() {
            location.reload(true);
        }
    </script>
</head>

<body>
    <h1 style="font-weight: bold; font-size: 25px ;margin:25px "> Customers </h1>

    <p style="font-size: 20px; margin : 20px;">You can add new customer, fill the form bellow</p>
    <p> </p>
    @using (Html.BeginForm("Customers", "Customer", FormMethod.Post, new { @class ="form", enctype = "multipart/form-data" }))
    {
        @Html.ValidationSummary()
    <div>
        <div class="row">
            <div class=" col-25 "><label class="label">Full Name :</label></div>
            <div class=" col-75 ">@Html.TextBoxFor(x => x.CustomerName, new { @class = "textbox", Value=@Model.CustomerName } )</div>
        </div>
        <div class="row">
            <div class=" col-25 "> <label class="label">FirstName : </label> </div>
            <div class=" col-75 ">@Html.TextBoxFor(x => x.FirstName, new { @class = "textbox", Value = @Model.FirstName  })</div>
        </div>
        <div class="row">
            <div class=" col-25 "><label class="label">Age       : </label> </div>
            <div class=" col-75 ">
                @Html.TextBoxFor(x => x.Age, new { @class = "textbox", Value = Model.Age  })
            </div>
        </div>
        <div class="row">
            <div class=" col-25 "><label class="label">Is Active : </label></div>
            <div  class=" col-75" >  
                  @Html.CheckBoxFor(x => x.IsActive, new { @class = "textbox" })
            </div>
        </div>
        <div class="row">
            <div class=" col-25 "> <label class="label" for="file">Avatar:</label></div>
            <div >
                <input type="file" name="avatar" id="file" class="button" />
            </div>
        </div>
        <input type="submit" value="Add" class="button" />
    </div>
    }
        <p></p>

        <input type="submit" id="Refresh" value="Refresh" onclick="msgprint()" class="button" />
        @section scripts{
            <script>
                $("#Refresh").click(function () {
                    $.ajax({
                        url: '/Customer/CustomersForTable',
                        success: function (data) {
                            $("#CustomerData").html(data);
                        }
                    })
                })

            </script>
        }
        @*@section head{
            <script language="javascript" type="text/javascript">
                $(document).ready(function () {

                    var CustomerData = $('#CustomerData').dataTable({
                        "bJQueryUI": true,
                        "bServerSide": true,
                        "sAjaxSource": "MasterDetailsAjaxHandler"
                    });

                    $("#Refresh").click(function (e) {
                        oEmployeesTable.fnDraw();
                    });
                });
            </script>
        }*@
        <p></p>

        <div>
            <table border="1" id="CustomerData" style=" padding: 5px; margin :10px">
                <tr>
                    <th>ID</th>
                    <th>Customer name</th>
                    <th>Firstname</th>
                    <th>Age</th>
                    <th>Is active customer</th>
                    <th>Image path</th>
                </tr>
                @foreach (var customer in ViewBag.CustomerList)
                {
            <tr>
                <td>@customer.ID </td>
                <td>@customer.CustomerName</td>
                <td>@customer.FirstName</td>
                <td>@customer.Age </td>
                <td>@customer.IsActive</td>
                <td>@customer.ImagePath</td>
                <td><img src=@customer.ImagePath /></td>
            </tr>
                }
            </table>
        </div>
</body>
</html>
















































































































